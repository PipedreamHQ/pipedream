import Callout from '@/components/Callout'
import { Steps } from 'nextra/components'

# Connecting to Databases
Connecting to a database is essential for developing production workflows. Whether you're storing application data, querying user information, or analyzing event logs, most workflows and serverless functions require querying data at some step.

When your workflow runs, it sends outbound traffic (requests to other APIs, databases and services) through the same network as other AWS services in the `us-east-1` region.

<Callout type="info">
    Pipedream workflows run in the AWS `us-east-1` network, sending requests from standard AWS IP ranges
</Callout>

## Connecting to Restricted Databases
**Unless your database is publicly accessible, you'll need to add specific IPs to your database's allow-list.** To do this, you can configure your database connection to run through a shared or dedicated static IP address from Pipedream.

### Create a Dedicated Static IP for Outbound Traffic
- This is the most secure, recommended approach, and gives you a dedicated egress IP that is unique to your workspace
- When deployed to a VPC in Pipedream, all outbound traffic from your workflow runs through the VPC's static IP
- [Learn more here](/workflows/vpc)

### Send Requests from a Shared Static IP
- When enabled on your connected account, Pipedream will route network requests through a static IP block
- When you create a connected account with any of [the apps](#supported-databases) that are currently supported by the SQL Proxy, requests to that database from within your Pipedream workflows will come from the IP block below.

#### Supported Databases
The SQL Proxy currently supports [MySQL](https://pipedream.com/apps/mysql) and [PostgreSQL](https://pipedream.com/apps/postgresql), and [Snowflake](https://pipedream.com/apps/snowflake) is coming soon. Please let us know if you'd like to see support for other database types.

#### Static Shared IPs
For database allow-listing, add the following IP block:
```
44.223.89.56/29
```

## Connect to your Database

<Steps>
### Select the "Query a Database" action

### Select the database type

### Configure your account


</Steps>

## Frequently Asked Questions

### What's the difference between the SQL Proxy and a VPC?
Both the SQL Proxy and a VPC provide secure database connections. A VPC offers enhanced isolation and security by providing a single dedicated static IP for workflows within your workspace, and the SQL proxy routes your database connections through a dedicated set of static IP addresses.
